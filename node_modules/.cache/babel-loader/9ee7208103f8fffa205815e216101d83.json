{"ast":null,"code":"var _jsxFileName = \"/Users/Aaron/Development/event-project/events-frontend/src/components/login.js\";\nimport React, { Component } from 'react';\nimport { form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handlechange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      console.log(username, password);\n      axios.post('http://localhost:3000/authenticate', {\n        username: username,\n        password: password\n      }).then(res => {\n        const jwt = res.data.auth_token;\n        localStorage.setItem(\"access_token\", jwt);\n        this.props.history.push('/');\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"access_token\");\n\n    if (token) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Tickets for days\"), React.createElement(Link, {\n      to: \"/signup\",\n      className: \"btn btn-outline-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Sign up\")), React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Username\",\n      name: \"username\",\n      value: username,\n      onChange: this.handlechange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: password,\n      onChange: this.handlechange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-outline-success\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Sign In\"))), React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/Aaron/Development/event-project/events-frontend/src/components/login.js"],"names":["React","Component","form","Link","axios","Login","state","username","password","handlechange","e","setState","target","name","value","login","preventDefault","console","log","post","then","res","jwt","data","auth_token","localStorage","setItem","props","history","push","componentDidMount","token","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nexport default class Login extends Component {\n\n  state = {\n    username: '',\n    password: ''\n  }\n\n  componentDidMount(){\n    const token = localStorage.getItem(\"access_token\");\n    if(token){\n      this.props.history.push('/')\n    }\n  }\n\n  handlechange = (e) => {\n    this.setState({ [e.target.name] : e.target.value});\n  }\n\n  login = (e) => {\n    e.preventDefault();\n    const { username, password} = this.state;\n    console.log(username, password);\n    axios.post('http://localhost:3000/authenticate', { username: username , password: password })\n    .then(res => {\n      const jwt = res.data.auth_token;\n      localStorage.setItem(\"access_token\", jwt);\n      this.props.history.push('/')\n    })\n\n  }\n\n  \n  render() {\n    const { username, password} = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm\">\n\n            <br/>\n            <br/>\n            <br/>\n            <h1>Tickets for days</h1>\n            <Link to=\"/signup\" className=\"btn btn-outline-success\">Sign up</Link>\n          </div>\n          <div className=\"col-sm\">\n          <br/>\n          <br/>\n          <br/>\n            <form>\n              <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Username\" name=\"username\" value={username} onChange={ this.handlechange }/>\n              </div>\n              <div className=\"form-group\">\n                <input type=\"password\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Password\" name=\"password\" value={password} onChange={ this.handlechange }/>\n              </div>\n              <button  className=\"btn btn-outline-success\" onClick={this.login}>Sign In</button>\n            </form>\n          </div>\n          <div className=\"col-sm\">\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}