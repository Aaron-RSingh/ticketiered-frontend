{"ast":null,"code":"var _jsxFileName = \"/Users/Aaron/Development/event-project/events-frontend/src/components/home.js\";\nimport React, { Component } from 'react';\nimport Navbar from './navbar';\nimport Event from './event';\nimport axios from 'axios';\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      events: []\n    };\n\n    this.fetchAllEvents = () => {};\n\n    this.logout = e => {\n      e.preventDefault();\n      this.props.history.push('/login');\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      localStorage.removeItem(\"access_token\");\n      this.props.history.push('/login');\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"access_token\");\n\n    if (!token) {\n      this.props.history.push('/login');\n    } else {\n      fetch('http://localhost:3000/get-all-events', {\n        headers: {\n          Authorization: token\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          events: res.data\n        });\n      });\n    }\n  }\n\n  render() {\n    const events = this.state.events;\n    const all = events.map((event, key) => React.createElement(React.Fragment, null, React.createElement(Event, {\n      name: event.name,\n      location: event.location,\n      description: event.description,\n      id: event.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    })));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \" All Events\"), all));\n  }\n\n}","map":{"version":3,"sources":["/Users/Aaron/Development/event-project/events-frontend/src/components/home.js"],"names":["React","Component","Navbar","Event","axios","Home","state","events","fetchAllEvents","logout","e","preventDefault","props","history","push","localStorage","removeItem","componentDidMount","token","getItem","fetch","headers","Authorization","then","res","console","log","data","setState","render","all","map","event","key","name","location","description","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAE1CK,KAF0C,GAElC;AACNC,MAAAA,MAAM,EAAE;AADF,KAFkC;;AAAA,SAoB1CC,cApB0C,GAoBzB,MAAM,CAEtB,CAtByC;;AAAA,SAwB1CC,MAxB0C,GAwBhCC,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACC,cAAF;AACE,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH,KA3ByC;;AAAA,SA8B1CL,MA9B0C,GA8BhCC,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACC,cAAF;AACAI,MAAAA,YAAY,CAACC,UAAb,CAAwB,cAAxB;AACA,WAAKJ,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAlCyC;AAAA;;AAK1CG,EAAAA,iBAAiB,GAAE;AACjB,UAAMC,KAAK,GAAGH,YAAY,CAACI,OAAb,CAAqB,cAArB,CAAd;;AACA,QAAG,CAACD,KAAJ,EAAU;AACR,WAAKN,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD,KAFD,MAEO;AACLM,MAAAA,KAAK,CAAC,sCAAD,EAAyC;AAAEC,QAAAA,OAAO,EAAE;AAACC,UAAAA,aAAa,EAAEJ;AAAhB;AAAX,OAAzC,CAAL,CACDK,IADC,CACIC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,aAAKC,QAAL,CAAc;AACZrB,UAAAA,MAAM,EAAEiB,GAAG,CAACG;AADA,SAAd;AAGD,OANC;AAOD;AACF;;AAkBDE,EAAAA,MAAM,GAAG;AAAA,UACCtB,MADD,GACY,KAAKD,KADjB,CACCC,MADD;AAEP,UAAMuB,GAAG,GAAIvB,MAAM,CAACwB,GAAP,CAAW,CAACC,KAAD,EAAQC,GAAR,KACxB,0CACA,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAED,KAAK,CAACE,IAAnB;AAAyB,MAAA,QAAQ,EAAEF,KAAK,CAACG,QAAzC;AAAmD,MAAA,WAAW,EAAEH,KAAK,CAACI,WAAtE;AAAmF,MAAA,EAAE,EAAEJ,KAAK,CAACK,EAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADa,CAAb;AAOA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAS,MAAA,MAAM,EAAE,KAAK5B,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGGqB,GAHH,CALF,CADF;AAeD;;AA5DyC","sourcesContent":["import React, { Component } from 'react'\nimport Navbar from './navbar'\nimport Event from './event'\nimport axios from 'axios';\n\nexport default class Home extends Component {\n\n  state = {\n    events: []\n  }\n  componentDidMount(){\n    const token = localStorage.getItem(\"access_token\");\n    if(!token){\n      this.props.history.push('/login')\n    } else {\n      fetch('http://localhost:3000/get-all-events', { headers: {Authorization: token}  })\n    .then(res => {\n      console.log(res.data)\n      this.setState({\n        events: res.data\n      })\n    })\n    }\n  }\n\n  fetchAllEvents = () => {\n\n  }\n\n  logout = (e) => {\n    e.preventDefault();\n      this.props.history.push('/login')\n  }\n\n  \n  logout = (e) => {\n    e.preventDefault();\n    localStorage.removeItem(\"access_token\");\n    this.props.history.push('/login')\n  }\n\n  render() {\n    const { events } = this.state;\n    const all  = events.map((event, key) =>\n    <>\n    <Event name={event.name} location={event.location} description={event.description} id={event.id}/>\n    <br/>\n    </>\n    \n);\n    return (\n      <div>\n        <Navbar  logout={this.logout}/>\n        <br/>\n        <br/>\n        <br/>\n        <div className=\"container\">\n\n          <h3> All Events</h3>\n          {all}\n          \n        </div>\n        \n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}