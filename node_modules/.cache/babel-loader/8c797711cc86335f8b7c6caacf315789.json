{"ast":null,"code":"var _jsxFileName = \"/Users/Aaron/final-project-ticketiered/ticketiered-frontend/src/components/login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.handlechange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      console.log(username, password);\n      fetch(\"http://localhost:3000/authenticate\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          username: username,\n          password: password\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => res.json()).then(res => {\n        const jwt = res.auth_token;\n        localStorage.setItem(\"access_token\", jwt);\n        this.props.history.push(\"/\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"access_token\");\n\n    if (token) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Ticketiered\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Explore millions of events local or not, real or fake and snap a ticket for a lonely coffee or front row seats to Sesame Street the Animated Musical when you sign up!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"The Flatiron offer also lets you reserve any tickets for free on the days  \"), React.createElement(Link, {\n      to: \"/signup\",\n      className: \"btn btn-outline-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Sign up\")), React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Username\",\n      name: \"username\",\n      value: username,\n      onChange: this.handlechange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: password,\n      onChange: this.handlechange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-outline-success\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(\"div\", {\n      className: \"col-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/Aaron/final-project-ticketiered/ticketiered-frontend/src/components/login.js"],"names":["React","Component","Link","Login","state","username","password","handlechange","e","setState","target","name","value","login","preventDefault","console","log","fetch","method","body","JSON","stringify","headers","then","res","json","jwt","auth_token","localStorage","setItem","props","history","push","componentDidMount","token","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"access_token\");\n    if (token) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  handlechange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  login = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    console.log(username, password);\n    fetch(\"http://localhost:3000/authenticate\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: username,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        const jwt = res.auth_token;\n        localStorage.setItem(\"access_token\", jwt);\n        this.props.history.push(\"/\");\n      });\n  };\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm\">\n            <br />\n            <br />\n            <br />\n            <h1>Ticketiered</h1>\n            <p>Explore millions of events local or not, real or fake and snap a ticket for a lonely coffee or front row seats to Sesame Street the Animated Musical when you sign up!</p>\n            <p>The Flatiron offer also lets you reserve any tickets for free on the days  </p>\n            <Link to=\"/signup\" className=\"btn btn-outline-success\">\n              Sign up\n            </Link>\n          </div>\n          <div className=\"col-sm\">\n            <br />\n            <br />\n            <br />\n            <form>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"exampleInputEmail1\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"Username\"\n                  name=\"username\"\n                  value={username}\n                  onChange={this.handlechange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  id=\"exampleInputEmail1\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={this.handlechange}\n                />\n              </div>\n              <button className=\"btn btn-outline-success\" onClick={this.login}>\n                Login\n              </button>\n            </form>\n          </div>\n          <div className=\"col-sm\"></div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}